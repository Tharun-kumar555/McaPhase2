<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        var selectedRow = null;
function onFormSubmit() { 
var formData = readFormData();
if(isValid()){
    if(selectedRow == null) {
    insertNewRecord(formData);
    alert("Your details are saved Sucessfully........");
  }
 else{
  updateRecord(formData);
 }
  resetForm();
}
}

function readFormData() {
  var formData = {};
  formData["facName"] = document.getElementById("facName").value;
  formData["CorName"] = document.getElementById("CorName").value;
  formData["ColName"] = document.getElementById("ColName").value;
  formData["facDep"] = document.getElementById("facDep").value;
  formData["facSub"] = document.getElementById("facSub").value;
  formData["facAge"] = document.getElementById("facAge").value;
  formData["facPlace"] = document.getElementById("facPlace").value;
  return formData;
}
function resetForm() {
  document.getElementById("facName").value = "";
  document.getElementById("facDep").value = "";
  document.getElementById("facSub").value = "";
  document.getElementById("facAge").value = "";
  document.getElementById("facPlace").value = "";
  document.getElementById("ColName").value = "";
  document.getElementById("CorName").value = "";
  selectedRow = null;
}
function insertNewRecord(data) {
  var table = document
    .getElementById("faclist")
    .getElementsByTagName("tbody")[0];
  var newRow = table.insertRow(table.length);
  cell1 = newRow.insertCell(0);
  cell1.innerHTML = data.facName;
  cell2 = newRow.insertCell(1);
  cell2.innerHTML = data.CorName;
  cell3 = newRow.insertCell(2);
  cell3.innerHTML = data.ColName;
  cell4 = newRow.insertCell(3);
  cell4.innerHTML = data.facDep;
  cell5 = newRow.insertCell(4);
  cell5.innerHTML = data.facSub;
  cell6 = newRow.insertCell(5);
  cell6.innerHTML = data.facAge;
  cell7 = newRow.insertCell(6);
  cell7.innerHTML = data.facPlace;
  cell8 = newRow.insertCell(7);
  cell8.innerHTML = `<a onClick="onEdit(this)">Update</a><a onClick="onDelete(this)">Delete</a>`;
}
function onEdit(td)
{
    if(confirm("Are you upadate your details")){
selectedRow=td.parentElement.parentElement;  
document.getElementById("facName").value=selectedRow.cells[0].innerHTML;
document.getElementById("CorName").value=selectedRow.cells[1].innerHTML;
document.getElementById("ColName").value=selectedRow.cells[2].innerHTML;
document.getElementById("facDep").value=selectedRow.cells[3].innerHTML;
document.getElementById("facSub").value=selectedRow.cells[4].innerHTML;
document.getElementById("facAge").value=selectedRow.cells[5].innerHTML;
document.getElementById("facPlace").value=selectedRow.cells[6].innerHTML;
}}
function updateRecord(formData)
{
  alert("Your form updated sucessfully.......")
selectedRow.cells[0].innerHTML=formData.facName;
selectedRow.cells[1].innerHTML=formData.CorName;
selectedRow.cells[2].innerHTML=formData.ColName;
selectedRow.cells[3].innerHTML=formData.facDep;
selectedRow.cells[4].innerHTML=formData.facSub;
selectedRow.cells[5].innerHTML=formData.facAge;
selectedRow.cells[6].innerHTML=formData.facPlace;

}
function onDelete(td)
{
if(confirm("are you want to delete this record")){
  row=td.parentElement.parentElement;
  document.getElementById("faclist").deleteRow(row.rowIndex);
  resetForm();
}
}

function isValid(){
var a = document.getElementById("facName").value;
if(a==""|| a==null )
return alert("Enter your name pleace.."),false;

var b= document.getElementById("CorName").value;
if(b==null || isNaN(b)==false  )
return true,alert("Pleace enter Course name and with Character foam...!");


var c= document.getElementById("ColName").value;
if(c==null || isNaN(c)==false )
return true,alert("Pleace enter tour College name and with Character foam..!");

var  d = document.getElementById("facDep").value;
if(d==null || isNaN(d)==false)
return true,alert("Enter Department name and character foam...!");


 var e= document.getElementById("facSub").value;
 if( e==null || isNaN(e)==false)
 return true,alert("Enter the subject and with  in character foam");

var g= document.getElementById("facPlace").value;
 if(g==null || isNaN(g)==false)
 return true,alert("Enter  place and with  in character foam");

var f= document.getElementById("facAge").value;
if(isNaN(f) || f<18 || f>65)
{
  alert("Pleace enter the age between 18 to 65..!");
}
else {
return true}
  



 

















}
    </script>
    <style>
        /* .tbdd{
            border: 5px black;
            gap: 5px;
            row-gap: 5px;
            column-gap: 5px;
            
        } */
         .lst{
          display: flex;
          padding-top: 10px;
          padding-left: 10px;
          
          /* gap: 10px; */
         }
         #bk{
          margin: 10px;
         }
         
         
    </style>
</head>
<body>
    <table border="5px">
        <tr>
            <td>
                <form action="" onsubmit="event.preventDefault();onFormSubmit();">
                     <h2>
                        Enter faculty details
                     </h2>
                     <div>
                        <label for="faculty name">Name</label><br>
                        <input type="text" name="" class="facName" id="facName" placeholder="Enter the faculty name">
                     </div>




                     <div>
                        <label for="faculty name">Course</label><br>
                        <input type="text" name="" class="CorName" id="CorName" placeholder="Enter the Course name">
                     </div>
                     <div>
                        <label for="faculty name">Collage Name</label><br>
                        <input type="text" name="" class="ColName" id="ColName" placeholder="Enter the Collage name">
                     </div>







                     <div>                     
                        <label for="Department">Departments</label><br>
                     <input type="text" name="" class="facDep" id="facDep" placeholder="Enter the faculty Department">
                    
                     </div>
                     <div>
                        <lable for="subject">Subject</lable><br>
                        <input type="text" name="" class="facSub" id="facSub" placeholder="Enter the subject name">
                     </div>
                     <div>
                        <label for="age">Age</label><br>
                        <input type="text" name="" class="facAge" id="facAge" placeholder="Enter a age ">
                     </div>
                     <div>
                        <label for="place">Place</label><br>
                        <input type="text" class="facPlace" placeholder="Enter the place" id="facPlace">
                     </div>
                     <div class="lst">
                     <div><input type="submit" value="submit"></div>
                     
                     </div>
                </form>
<div id="bk"><button><a href="/day_5/mtie4.1.html" style="text-decoration: none; color: black;" >Back</a></button></div>
            </td>
            <td class="tbdd">
                <table style="background-color: coral;"
                id="faclist"
                class="list"
                class="'tbdd"
                >
                <thead class="tbdd">
                 <td> Name         </td> 
                 <td> course       </td> 
                 <td> College name </td> 
                 <td> Department   </td> 
                 <td> Subject      </td> 
                 <td> Age          </td> 
                 <td> Place        </td> 
                 <td> Action       </td> 
                    
               
                </thead>
                <tbody></tbody>
                 </table>
            </td>
        </tr>
    </table>
   
</body>
</html>